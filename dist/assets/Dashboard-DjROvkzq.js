import{_ as e,f as t,r as s,g as l,h as a,e as n,o as i,c as o,a as d,d as u,w as r,i as c,j as p,t as v,F as m,k as x,l as g,m as f,v as b,n as y,p as k,q as h,s as w}from"./index-CCurEg6V.js";import{f as C,t as D,d as T,a as j,e as I}from"./AppAddTask-COW2gla2.js";import{A as P}from"./AddTask-BA5lkVdo.js";const S={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center mb-4 rounded"},_={class:"grid"},N={class:"col-12 lg:col-6 xl:col-4 p-3"},A={key:0,class:"mb-5 ml-3"},E={class:"mb-3 ml-3"},U={class:"text-700 font-medium"},V={class:"text-400 text-xs py-2"},J={class:"text-900 font-medium text-xl"},O={class:"text-500 py-2"},L={class:"text-500"},z={style:{"font-size":"10px"}},B={class:"text-right mt-2"},H=["onClick"],q=["onClick"],F={class:"col-12 lg:col-6 xl:col-4 p-3"},G={key:0,class:"mb-5 ml-3"},M={class:"mb-3 ml-3"},W={class:"text-700 font-medium"},K={class:"text-400 text-xs py-2"},Q={class:"text-900 font-medium text-xl"},R={class:"text-500 py-2"},X={class:"text-500"},Y={style:{"font-size":"10px"}},Z={class:"text-right mt-2"},$=["onClick"],ee=["onClick"],te={class:"col-12 lg:col-6 xl:col-4 p-3"},se={key:0,class:"mb-5 ml-3"},le={class:"mb-3 ml-3"},ae={class:"text-700 font-medium"},ne={class:"text-400 text-xs py-2"},ie={class:"text-900 font-medium text-xl"},oe={class:"text-500 py-2"},de={class:"text-500"},ue={style:{"font-size":"10px"}},re={class:"text-right mt-2"},ce=["onClick"],pe=["onClick"],ve={class:"p-4 w"},me={class:"mb-4"},xe={class:"mb-4"},ge={class:"mb-4"},fe=["value"],be=["value"],ye={class:"mb-4"},ke=["value"],he={key:0,value:"To Do"},we={key:1,value:"In Progress"},Ce={key:2,value:"Done"},De={class:"flex items-center justify-center editsButtons"},Te={class:"p-4 w"},je={class:"text-lg font-semibold mb-5 text-inline"},Ie={class:"text-center"},Pe=e({__name:"Tasks",setup(e){const w=t(),Pe=s(!1),Se=s(null),_e=s(null),Ne=s(""),Ae=s({toDo:!0,inProgress:!0,done:!0}),Ee=e=>{Ae.value[e]=!Ae.value[e]},Ue=s({id:"",text:"",description:"",tags:{department:"",status:"",date:""}}),Ve=["Artist & bookings","Gastronomy","Legal security & control","Marketing & sponsors","Ticketing & pre-sale","Stage & equipment"],Je=e=>{const t=Ne.value.toLowerCase();return e.filter((e=>e.text.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.tags.department.toLowerCase().includes(t)))},Oe=e=>{Pe.value=!0,Se.value=JSON.parse(JSON.stringify(e)),Ue.value=JSON.parse(JSON.stringify(e))},Le=()=>{Ue.value=JSON.parse(JSON.stringify(Se.value)),Pe.value=!1},ze=e=>{e&&(j.value=!0,_e.value=e)},Be=()=>{j.value=!1};l((()=>{C()}));const He=a((()=>Je(D.value.filter((e=>"To Do"===e.tags.status))))),qe=a((()=>Je(D.value.filter((e=>"In Progress"===e.tags.status))))),Fe=a((()=>Je(D.value.filter((e=>"Done"===e.tags.status))))),Ge=a((()=>Ve.filter((e=>e!==Ue.value.tags.department)))),Me=()=>{I(Ue.value.id,Ue.value).then((()=>{C(),w.add({severity:"success",summary:"Success",detail:"Task was updated successfully",life:3e3}),Le()})).catch((e=>{console.error("Error al editar la tarea:",e),w.add({severity:"error",summary:"Error",detail:"Error on updating task",life:3e3})}))};return(e,t)=>{const s=n("InputIcon"),l=n("InputText"),a=n("IconField"),w=n("Button"),C=n("Dialog");return i(),o(m,null,[d("div",S,[t[11]||(t[11]=d("h2",{class:"m-0"},"All departments",-1)),u(a,{iconPosition:"left",class:"block mt-2 md:mt-0"},{default:r((()=>[u(s,{class:"pi pi-search"}),u(l,{class:"w-full sm:w-auto",modelValue:Ne.value,"onUpdate:modelValue":t[0]||(t[0]=e=>Ne.value=e),placeholder:"Search task..."},null,8,["modelValue"])])),_:1})]),d("div",_,[d("div",N,[d("div",null,[d("div",{class:"card cardHeader flex justify-content-between block bg-red-100 px-3 py-2 mb-4",onClick:t[1]||(t[1]=e=>Ee("toDo"))},t[12]||(t[12]=[d("span",{class:"flex align-items-center text-red-700 font-medium"},"To Do",-1),d("div",{class:"flex align-items-center justify-content-center border-round",style:{width:"2.5rem",height:"2.5rem"}},[d("i",{class:"pi pi-exclamation-triangle text-red-300 text-xl"})],-1)])),t[17]||(t[17]=d("hr",null,null,-1)),d("div",null,[0===He.value.length?(i(),o("div",A,t[13]||(t[13]=[d("span",null,[d("b",null,"Waiting Tasks to do... ")],-1),c(),d("i",{class:"pi pi-spin pi-spinner"},null,-1)]))):p("",!0),d("div",E,[d("span",U,[d("b",null,v(He.value.length),1)]),t[14]||(t[14]=d("span",{class:"text-500 font-medium"}," Tasks waiting to be started",-1))]),Ae.value.toDo?(i(!0),o(m,{key:1},x(He.value,(e=>(i(),o("div",{key:e.id,class:"card cardToDo p-2 rounded mb-4 p-3"},[d("div",V,v(e.tags.department),1),d("div",J,v(e.text),1),d("div",O,v(e.description),1),d("div",L,[d("i",z,"Created on: "+v(e.tags.date),1)]),d("div",B,[d("button",{class:"btnDelete mr-2",onClick:g((t=>ze(e)),["stop"])},t[15]||(t[15]=[d("i",{class:"pi pi-trash"},null,-1)]),8,H),d("button",{onClick:g((t=>Oe(e)),["stop"]),class:"btnEdit"},t[16]||(t[16]=[d("i",{class:"pi pi-pencil"},null,-1)]),8,q)])])))),128)):p("",!0)])])]),d("div",F,[d("div",null,[d("div",{class:"card cardHeader flex justify-content-between block bg-yellow-100 px-3 py-2 mb-4",onClick:t[2]||(t[2]=e=>Ee("inProgress"))},t[18]||(t[18]=[d("span",{class:"flex align-items-center text-yellow-500 font-medium"},"In Progress...",-1),d("div",{class:"flex align-items-center justify-content-center border-round",style:{width:"2.5rem",height:"2.5rem"}},[d("i",{class:"pi pi-spin pi-spinner text-yellow-500"})],-1)])),t[23]||(t[23]=d("hr",null,null,-1)),d("div",null,[0===qe.value.length?(i(),o("div",G,t[19]||(t[19]=[d("b",null,"No tasks In Progress yet",-1)]))):p("",!0),d("div",M,[d("span",W,v(qe.value.length),1),t[20]||(t[20]=d("span",{class:"text-500 font-medium"}," Tasks in progress...",-1))]),Ae.value.inProgress?(i(!0),o(m,{key:1},x(qe.value,(e=>(i(),o("div",{key:e.id,class:"card cardInProgress p-2 rounded mb-4 p-3"},[d("div",K,v(e.tags.department),1),d("div",Q,v(e.text),1),d("div",R,v(e.description),1),d("div",X,[d("i",Y,"Created on: "+v(e.tags.date),1)]),d("div",Z,[d("button",{class:"btnDelete mr-2",onClick:g((t=>ze(e)),["stop"])},t[21]||(t[21]=[d("i",{class:"pi pi-trash"},null,-1)]),8,$),d("button",{onClick:g((t=>Oe(e)),["stop"]),class:"btnEdit"},t[22]||(t[22]=[d("i",{class:"pi pi-pencil"},null,-1)]),8,ee)])])))),128)):p("",!0)])])]),d("div",te,[d("div",null,[d("div",{class:"card cardHeader flex justify-content-between block bg-green-100 px-3 py-2 mb-4",onClick:t[3]||(t[3]=e=>Ee("done"))},t[24]||(t[24]=[d("span",{class:"flex align-items-center text-green-600 font-medium"},"Done",-1),d("div",{class:"flex align-items-center justify-content-center border-round",style:{width:"2.5rem",height:"2.5rem"}},[d("i",{class:"pi pi-check-circle text-green-600"})],-1)])),t[29]||(t[29]=d("hr",null,null,-1)),d("div",null,[0===Fe.value.length?(i(),o("div",se,t[25]||(t[25]=[d("b",null,"No tasks Done yet",-1)]))):p("",!0),d("div",le,[d("span",ae,v(Fe.value.length),1),t[26]||(t[26]=d("span",{class:"text-500 font-medium"}," Tasks Completed.",-1))]),Ae.value.done?(i(!0),o(m,{key:1},x(Fe.value,(e=>(i(),o("div",{key:e.id,class:"card cardDone p-2 rounded mb-4 p-3"},[d("div",ne,v(e.tags.department),1),d("div",ie,v(e.text),1),d("div",oe,v(e.description),1),d("div",de,[d("i",ue,"Created on: "+v(e.tags.date),1)]),d("div",re,[d("button",{class:"btnDelete mr-2",onClick:g((t=>ze(e)),["stop"])},t[27]||(t[27]=[d("i",{class:"pi pi-trash"},null,-1)]),8,ce),d("button",{onClick:g((t=>Oe(e)),["stop"]),class:"btnEdit"},t[28]||(t[28]=[d("i",{class:"pi pi-pencil"},null,-1)]),8,pe)])])))),128)):p("",!0)])])]),u(C,{visible:Pe.value,"onUpdate:visible":t[8]||(t[8]=e=>Pe.value=e),modal:"",style:{width:"400px"}},{default:r((()=>[d("div",ve,[t[30]||(t[30]=d("h3",{class:"text-xxl font-semibold mb-5 text-inline"},"Editing task...",-1)),d("div",me,[f(d("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Task Name","onUpdate:modelValue":t[4]||(t[4]=e=>Ue.value.value.text=e)},null,512),[[b,Ue.value.value.text]])]),d("div",xe,[f(d("textarea",{"onUpdate:modelValue":t[5]||(t[5]=e=>Ue.value.value.description=e),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Task Description...",rows:"5"},null,512),[[b,Ue.value.value.description]])]),d("div",ge,[f(d("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>Ue.value.value.tags.department=e),class:"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},[d("option",{value:Ue.value.value.tags.department,selected:""},v(Ue.value.value.tags.department),9,fe),(i(!0),o(m,null,x(Ge.value,(e=>(i(),o("option",{key:e,value:e},v(e),9,be)))),128))],512),[[y,Ue.value.value.tags.department]])]),d("div",ye,[f(d("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>Ue.value.value.tags.status=e),class:"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},[d("option",{value:Ue.value.value.tags.status,selected:""},v(Ue.value.value.tags.status),9,ke),"To Do"!==Ue.value.value.tags.status?(i(),o("option",he,"To Do")):p("",!0),"In Progress"!==Ue.value.value.tags.status?(i(),o("option",we,"In Progress")):p("",!0),"Done"!==Ue.value.value.tags.status?(i(),o("option",Ce,"Done")):p("",!0)],512),[[y,Ue.value.value.tags.status]])]),d("div",De,[u(w,{label:"Save",severity:"success",raised:"",onClick:Me,class:"mr-5"}),u(w,{onClick:Le,label:"Cancel",severity:"danger",plain:"",text:"",raised:""})])])])),_:1},8,["visible"]),u(C,{visible:k(j),"onUpdate:visible":t[10]||(t[10]=e=>h(j)?j.value=e:null),modal:""},{default:r((()=>[d("div",Te,[d("h3",je,'Are you sure to delete the next task "'+v(_e.value.text)+'" ?',1),d("div",Ie,[u(w,{onClick:t[9]||(t[9]=e=>k(T)(_e.value.id)),label:"Delete",severity:"danger",raised:""}),u(w,{onClick:Be,label:"Back",plain:"",text:"",raised:"",class:"ml-5"})])])])),_:1},8,["visible"])]),u(P)],64)}}},[["__scopeId","data-v-19acbd14"]]),Se={__name:"Dashboard",setup:e=>(e,t)=>(i(),w(Pe))};export{Se as default};
