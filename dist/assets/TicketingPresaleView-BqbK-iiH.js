import{_ as e,f as t,r as s,g as l,h as a,e as i,o as n,c as o,a as d,i as c,j as r,t as u,F as p,k as v,d as m,w as g,m as x,v as f,n as b,p as y,q as k}from"./index-CCurEg6V.js";import{f as h,d as w,a as T,t as C,e as D}from"./AppAddTask-COW2gla2.js";import{A as j}from"./AddTask-BA5lkVdo.js";const P={class:"grid"},I={class:"col-12 lg:col-6 xl:col-4 p-3"},N={key:0,class:"mb-5 ml-3"},S={class:"mb-3 ml-3"},_={class:"text-700 font-medium"},E={class:"text-400 text-xs py-2"},A={class:"text-900 font-medium text-xl"},J={class:"text-500 py-2"},O={class:"text-500"},U={style:{"font-size":"10px"}},V={class:"text-right mt-2"},z=["onClick"],B=["onClick"],q={class:"col-12 lg:col-6 xl:col-4 p-3"},F={key:0,class:"mb-5 ml-3"},G={class:"mb-3 ml-3"},L={class:"text-700 font-medium"},M={class:"text-400 text-xs py-2"},W={class:"text-900 font-medium text-xl"},H={class:"text-500 py-2"},K={class:"text-500"},Q={style:{"font-size":"10px"}},R={class:"text-right mt-2"},X=["onClick"],Y=["onClick"],Z={class:"col-12 lg:col-6 xl:col-4 p-3"},$={key:0,class:"mb-5 ml-3"},ee={class:"mb-3 ml-3"},te={class:"text-700 font-medium"},se={class:"text-400 text-xs py-2"},le={class:"text-900 font-medium text-xl"},ae={class:"text-500 py-2"},ie={class:"text-500"},ne={style:{"font-size":"10px"}},oe={class:"text-right mt-2"},de=["onClick"],ce=["onClick"],re={class:"p-4 w"},ue={class:"mb-4"},pe={class:"mb-4"},ve={class:"mb-4"},me=["value"],ge=["value"],xe={class:"mb-4"},fe=["value"],be={key:0,value:"To Do"},ye={key:1,value:"In Progress"},ke={key:2,value:"Done"},he={class:"flex items-center justify-center editsButtons"},we={class:"p-4 w"},Te={class:"text-lg font-semibold mb-5 text-inline"},Ce={class:"text-center"},De=e({__name:"TicketingPresale",setup(e){const De=t(),je=s(!1),Pe=s(null),Ie=s(null),Ne=s(null),Se=["Artist & bookings","Gastronomy","Legal security & control","Marketing & sponsors","Ticketing & pre-sale","Stage & equipment"],_e=e=>{je.value=!0,Ie.value=JSON.parse(JSON.stringify(e)),Pe.value=JSON.parse(JSON.stringify(e))},Ee=()=>{Pe.value=JSON.parse(JSON.stringify(Ie.value)),je.value=!1},Ae=e=>{e&&(T.value=!0,Ne.value=e)},Je=()=>{T.value=!1};l((()=>{h()}));const Oe=a((()=>C.value.filter((e=>"To Do"===e.tags.status&&"Ticketing & pre-sale"===e.tags.department)))),Ue=a((()=>C.value.filter((e=>"In Progress"===e.tags.status&&"Ticketing & pre-sale"===e.tags.department)))),Ve=a((()=>C.value.filter((e=>"Done"===e.tags.status&&"Ticketing & pre-sale"===e.tags.department)))),ze=a((()=>Se.filter((e=>e!==Pe.value.tags.department)))),Be=()=>{D(Pe.value.id,Pe.value).then((()=>{h(),De.add({severity:"success",summary:"Success",detail:"Task was updated successfully",life:3e3}),Ee()})).catch((e=>{console.error("Error al editar la tarea:",e),De.add({severity:"error",summary:"Error",detail:"Error on updating task",life:3e3})}))};return(e,t)=>{const s=i("Button"),l=i("Dialog");return n(),o(p,null,[d("div",P,[d("div",I,[d("div",null,[t[11]||(t[11]=d("div",{class:"card flex justify-content-between block bg-red-100 px-3 py-2 mb-4"},[d("span",{class:"flex align-items-center text-red-700 font-medium"},"To Do"),d("div",{class:"flex align-items-center justify-content-center border-round",style:{width:"2.5rem",height:"2.5rem"}},[d("i",{class:"pi pi-exclamation-triangle text-red-300 text-xl"})])],-1)),t[12]||(t[12]=d("hr",null,null,-1)),0===Oe.value.length?(n(),o("div",N,t[7]||(t[7]=[d("span",null,[d("b",null,"Waiting Tasks to do... ")],-1),c(),d("i",{class:"pi pi-spin pi-spinner"},null,-1)]))):r("",!0),d("div",S,[d("span",_,[d("b",null,u(Oe.value.length),1)]),t[8]||(t[8]=d("span",{class:"text-500 font-medium"}," Tasks waiting to be started",-1))]),(n(!0),o(p,null,v(Oe.value,(e=>(n(),o("section",{key:e.id,class:"card cardToDo p-2 rounded mb-4 p-3"},[d("div",null,[d("div",E,u(e.tags.department),1),d("div",A,u(e.text),1),d("div",J,u(e.description),1),d("div",O,[d("i",U,"Created on: "+u(e.tags.date),1)]),d("div",V,[d("button",{class:"btnDelete mr-2",onClick:t=>Ae(e)},t[9]||(t[9]=[d("i",{class:"pi pi-trash"},null,-1)]),8,z),d("button",{onClick:t=>_e(e),class:"btnEdit"},t[10]||(t[10]=[d("i",{class:"pi pi-pencil"},null,-1)]),8,B)])])])))),128))])]),d("div",q,[d("div",null,[t[17]||(t[17]=d("div",{class:"card flex justify-content-between block bg-yellow-100 px-3 py-2 mb-4"},[d("span",{class:"flex align-items-center text-yellow-500 font-medium"},"In Progress..."),d("div",{class:"flex align-items-center justify-content-center border-round",style:{width:"2.5rem",height:"2.5rem"}},[d("i",{class:"pi pi-spin pi-spinner text-yellow-500"})])],-1)),t[18]||(t[18]=d("hr",null,null,-1)),0===Ue.value.length?(n(),o("div",F,t[13]||(t[13]=[d("b",null,"No tasks In Progress yet",-1)]))):r("",!0),d("div",G,[d("span",L,u(Ue.value.length),1),t[14]||(t[14]=d("span",{class:"text-500 font-medium"}," Tasks in progress...",-1))]),(n(!0),o(p,null,v(Ue.value,(e=>(n(),o("div",{key:e.id,class:"card cardInProgress p-2 rounded mb-4 p-3"},[d("div",M,u(e.tags.department),1),d("div",W,u(e.text),1),d("div",H,u(e.description),1),d("div",K,[d("i",Q,"Created on: "+u(e.tags.date),1)]),d("div",R,[d("button",{class:"btnDelete mr-2",onClick:t=>Ae(e)},t[15]||(t[15]=[d("i",{class:"pi pi-trash"},null,-1)]),8,X),d("button",{onClick:t=>_e(e),class:"btnEdit"},t[16]||(t[16]=[d("i",{class:"pi pi-pencil"},null,-1)]),8,Y)])])))),128))])]),d("div",Z,[d("div",null,[t[23]||(t[23]=d("div",{class:"card flex justify-content-between block bg-green-100 px-3 py-2 mb-4"},[d("span",{class:"flex align-items-center text-green-600 font-medium"},"Done"),d("div",{class:"flex align-items-center justify-content-center border-round",style:{width:"2.5rem",height:"2.5rem"}},[d("i",{class:"pi pi-check-circle text-green-600"})])],-1)),t[24]||(t[24]=d("hr",null,null,-1)),0===Ve.value.length?(n(),o("div",$,t[19]||(t[19]=[d("b",null,"No tasks In Progress yet",-1)]))):r("",!0),d("div",ee,[d("span",te,u(Ve.value.length),1),t[20]||(t[20]=d("span",{class:"text-500 font-medium"}," Tasks Completed.",-1))]),(n(!0),o(p,null,v(Ve.value,(e=>(n(),o("div",{key:e.id,class:"card cardDone p-2 rounded mb-4 p-3"},[d("div",se,u(e.tags.department),1),d("div",le,u(e.text),1),d("div",ae,u(e.description),1),d("div",ie,[d("i",ne,"Created on: "+u(e.tags.date),1)]),d("div",oe,[d("button",{class:"btnDelete mr-2",onClick:t=>Ae(e)},t[21]||(t[21]=[d("i",{class:"pi pi-trash"},null,-1)]),8,de),d("button",{onClick:t=>_e(e),class:"btnEdit"},t[22]||(t[22]=[d("i",{class:"pi pi-pencil"},null,-1)]),8,ce)])])))),128))])]),m(l,{visible:je.value,"onUpdate:visible":t[4]||(t[4]=e=>je.value=e),modal:"",style:{width:"400px"}},{default:g((()=>[d("div",re,[t[25]||(t[25]=d("h3",{class:"text-xxl font-semibold mb-5 text-inline"},"Editing task...",-1)),d("div",ue,[x(d("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Task Name","onUpdate:modelValue":t[0]||(t[0]=e=>Pe.value.text=e)},null,512),[[f,Pe.value.text]])]),d("div",pe,[x(d("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>Pe.value.description=e),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Task Description...",rows:"5"},null,512),[[f,Pe.value.description]])]),d("div",ve,[x(d("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>Pe.value.tags.department=e),class:"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},[d("option",{value:Pe.value.tags.department,selected:""},u(Pe.value.tags.department),9,me),(n(!0),o(p,null,v(ze.value,(e=>(n(),o("option",{value:e},u(e),9,ge)))),256))],512),[[b,Pe.value.tags.department]])]),d("div",xe,[x(d("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>Pe.value.tags.status=e),class:"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},[d("option",{value:Pe.value.tags.status,selected:""},u(Pe.value.tags.status),9,fe),"To Do"!==Pe.value.tags.status?(n(),o("option",be,"To Do")):r("",!0),"In Progress"!==Pe.value.tags.status?(n(),o("option",ye,"In Progress")):r("",!0),"Done"!==Pe.value.tags.status?(n(),o("option",ke,"Done")):r("",!0)],512),[[b,Pe.value.tags.status]])]),d("div",he,[m(s,{label:"Save",severity:"success",raised:"",onClick:Be,class:"mr-5"}),m(s,{onClick:Ee,label:"Cancel",severity:"danger",plain:"",text:"",raised:""})])])])),_:1},8,["visible"]),m(l,{visible:y(T),"onUpdate:visible":t[6]||(t[6]=e=>k(T)?T.value=e:null),modal:""},{default:g((()=>[d("div",we,[d("h3",Te,'Are you sure to delete the next task "'+u(Ne.value.text)+'" ?',1),d("div",Ce,[m(s,{onClick:t[5]||(t[5]=e=>y(w)(Ne.value.id)),label:"Delete",severity:"danger",raised:""}),m(s,{onClick:Je,label:"Back",plain:"",text:"",raised:"",class:"ml-5"})])])])),_:1},8,["visible"])]),m(j)],64)}}},[["__scopeId","data-v-4dac02e8"]]),je={__name:"TicketingPresaleView",setup:e=>(e,t)=>(n(),o(p,null,[t[0]||(t[0]=d("h2",{class:"ml-3"},"Ticketing & pre-sale",-1)),m(De)],64))};export{je as default};
