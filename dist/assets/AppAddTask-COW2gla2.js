import{r as e,C as a,_ as s,f as t,e as o,o as r,s as l,w as n,a as d,m as i,v as u,c,F as p,k as v,t as y,n as m,q as f,p as g}from"./index-CCurEg6V.js";const h=e([]),b=e(!1),w=async()=>{try{const e=await fetch("https://node-todos.vercel.app/users/grupo3/todos"),a=await e.json();h.value=a,console.log(a)}catch(e){}},k=async e=>{try{const s=await fetch(`https://node-todos.vercel.app/users/grupo3/todos/${e}`,{method:"DELETE"});s.ok?(h.value=h.value.filter((a=>a.id!==e)),a.add({severity:"success",summary:"Task deleted",detail:"Task was deleted successfully",life:3e3})):(console.error("Error al eliminar la tarea:",s.status),a.add({severity:"error",summary:"Error",detail:"Error on deleting task",life:3e3}))}catch(s){console.error("Error al eliminar la tarea:",s),a.add({severity:"error",summary:"Error",detail:"Error on deleting task",life:3e3})}b.value=!1},x=async(e,a)=>{try{const s=await fetch(`https://node-todos.vercel.app/users/grupo3/todos/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(s.ok){return await s.json()}console.error("Error al editar la tarea:",s.status)}catch(s){console.error("Error al editar la tarea:",s)}},E={class:"p-4 w"},T={class:"mb-4"},S={class:"mb-4"},j={class:"mb-4"},q=["value"],A={class:"mb-4"},U=["value"],_={class:"mb-4"},C=s({__name:"AppAddTask",emits:["closeSidebar"],setup(s,{emit:b}){const w=b,k=t(),x=e(!1),C=["Artist & bookings","Gastronomy","Legal security & control","Marketing & sponsors","Ticketing & pre-sale","Stage & equipment"],D=["To Do","In Progress","Done"],V=(new Date).toLocaleString(),N=e(""),P=e(""),L=e(""),O=e(""),I=async()=>{if(!(N.value&&P.value&&L.value&&O.value))return void k.add({severity:"error",summary:"Error",detail:"Please fill all fields",life:3e3});const e={text:N.value,description:P.value,completed:!1,author:"grupo3",tags:{department:L.value,status:O.value,date:V}};await(async e=>{try{const s=await fetch("https://node-todos.vercel.app/users/grupo3/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(s.ok){const e=await s.json();h.value.push(e),a.add({severity:"success",summary:"Success",detail:"Task was added successfully",life:3e3})}else console.error("Error al agregar la tarea:",s.status),a.add({severity:"error",summary:"Error",detail:"Error on adding task",life:3e3})}catch(s){console.error("Error al agregar la tarea:",s),a.add({severity:"error",summary:"Error",detail:"Error on adding task",life:3e3})}})(e),console.log(e),N.value="",P.value="",L.value="",O.value="",V.value="",w("closeSidebar")};return(e,a)=>{const s=o("Sidebar");return r(),l(s,{visible:x.value,"onUpdate:visible":a[5]||(a[5]=e=>x.value=e),position:"right",class:"layout-config-sidebar w-26rem"},{default:n((()=>[d("div",E,[a[9]||(a[9]=d("h3",{class:"text-xxl font-semibold mb-4 text-inline"},"Add a new task...",-1)),d("div",T,[i(d("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>N.value=e),required:"",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"taskName",type:"text",placeholder:"Task Name"},null,512),[[u,N.value]])]),d("div",S,[i(d("textarea",{"onUpdate:modelValue":a[1]||(a[1]=e=>P.value=e),required:"",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"department",type:"text",placeholder:"Task Description..."},null,512),[[u,P.value]])]),d("div",j,[i(d("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>L.value=e),required:"",class:"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},[a[6]||(a[6]=d("option",{value:"",disabled:""},"Select department",-1)),(r(),c(p,null,v(C,(e=>d("option",{key:e,value:e},y(e),9,q))),64))],512),[[m,L.value]])]),d("div",A,[i(d("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>O.value=e),required:"",class:"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},[a[7]||(a[7]=d("option",{value:"",disabled:""},"Select status",-1)),(r(),c(p,null,v(D,(e=>d("option",{key:e,value:e},y(e),9,U))),64))],512),[[m,O.value]])]),d("div",_,[i(d("input",{type:"hidden","onUpdate:modelValue":a[4]||(a[4]=e=>f(V)?V.value=e:null)},null,512),[[u,g(V)]])]),d("div",{class:"flex items-center justify-end"},[d("button",{onClick:I,class:"bg-green-400 cursor-pointer hover:bg-green-500 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},a[8]||(a[8]=[d("i",{class:"pi pi-check text-xl"},null,-1)]))])])])),_:1},8,["visible"])}}},[["__scopeId","data-v-68f42deb"]]);export{C as A,b as a,k as d,x as e,w as f,h as t};
